<header
  class="relative z-10 flex flex-col md:flex-row gap-[2rem] md:gap-[5rem] items-center justify-between px-10 md:px-40 py-9"
>
  <a
    aria-label="Go to home"
    class="bg-transparent outline-none focus:outline-none cursor-pointer"
    routerLink="/"
  >
    <img
      ngSrc="imgs/logo.svg"
      alt="Logo Flypass - Find movies"
      width="180"
      height="38"
      class="animate-fade"
    />
  </a>

  <!-- SECCIÓN DE BÚSQUEDA -->

  <div class="relative w-full">
    <form (ngSubmit)="onEnter()" autocomplete="off">
      <ui-input
        placeholder="Search FindMovies"
        name="search"
        (searchEvent)="onSearch($event)"
      ></ui-input>
    </form>

    <!-- SECCIÓN DE RESULTADOS DE BÚSQUEDA -->

    <div
      class="absolute z-50 w-full bg-secondary-ui top-14 left-0 right-0 rounded shadow-md overflow-hidden animate-fade-up transition-all"
    >
      @defer {
        <ng-container *ngTemplateOutlet="resultSearch"></ng-container>
      } @loading {
        <div class="p-4 flex flex-col gap-2">
          <p class="animate-pulse bg-white/15 h-6 w-1/2"></p>
          <p class="animate-pulse bg-white/15 h-4 w-3/4"></p>
          <p class="animate-pulse bg-white/15 h-5 w-1/2"></p>
        </div>
      }
    </div>
  </div>
</header>

<ng-template #resultSearch>
  <ul>
    @for (list of listResults(); track list.id) {
      <li
        class="flex flex-row gap-4 items-center p-4 hover:bg-white/15 transition-colors cursor-pointer animate-fade-up"
        (click)="onPoster(list)"
        aria-hidden="true"
      >
        <img class="rounded" ngSrc="{{ list.poster_path }}" alt="Brazil" width="55" height="83" />
        <div class="flex flex-col gap-2">
          <h3 class="text-white">{{ list.title }}</h3>
          <span class="text-secondary-ui/60 text-sm">{{ list.release_date | date: 'yyyy' }}</span>
          <p
            class="font-body text-white max-w-[28rem] [display:-webkit-box] [-webkit-box-orient:vertical] [-webkit-line-clamp:1] overflow-hidden"
          >
            {{ list.overview }}
          </p>
        </div>
      </li>
    }
  </ul>

  @if (notFound()) {
    <p class="p-4">No results found for "{{ inputText }}" phrase.</p>
  }
</ng-template>
